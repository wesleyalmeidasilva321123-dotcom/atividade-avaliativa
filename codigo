def autenticar():
    usuario_correto = "admin"
    senha_correta = "1234"
    usuario = input("Usuário: ")
    senha = input("Senha: ")

    if usuario == usuario_correto and senha == senha_correta:
        print("Acesso permitido.")
        return True
    else:
        print("Usuário ou senha incorretos.")
        return False



class Produto:
    
    def _init_(self, nome, quantidade, valor):
        self.nome = nome
        self.quantidade = quantidade
        self.valor = valor

    def calcular_total(self):
        return self.quantidade * self.valor

    def mostrar_informacoes(self):
        print(f"Nome: {self.nome}")
        print(f"Quantidade: {self.quantidade}")
        print(f"Valor unitário: R$ {self.valor:.2f}")
        print(f"Total: R$ {self.calcular_total():.2f}")


class Estoque:
    def _init_(self):
        self.produtos = {}

    def adicionar_produto(self, nome, quantidade, valor):
        codigo = max(self.produtos.keys(), default=0) + 1
        self.produtos[codigo] = Produto(nome, quantidade, valor)
        print(f"Produto '{nome}' adicionado com sucesso.")

    def visualizar_estoque(self):
        if not self.produtos:
            print("\nEstoque vazio.")
            return
        print("\nEstoque Atual:")
        for codigo, produto in self.produtos.items():
            print(f"Cód: {codigo} | {produto.nome} - Quantidade: {produto.quantidade} - R$ {produto.valor:.2f}")

    def atualizar_quantidade(self, codigo, nova_quantidade):
        if codigo in self.produtos:
            self.produtos[codigo].quantidade = nova_quantidade
            print("Quantidade atualizada com sucesso.")
        else:
            print("Produto não encontrado.")

    def pesquisar_produto(self, nome):
        for codigo, produto in self.produtos.items():
            if produto.nome.lower() == nome.lower():
                produto.mostrar_informacoes()
                return
        print("Produto não encontrado.")

    def relatorio_produtos(self):
        if not self.produtos:
            print("\nEstoque vazio.")
            return

        total_itens = 0
        valor_total = 0
        mais_caro = max(self.produtos.values(), key=lambda p: p.valor, default=None)
        mais_barato = min(self.produtos.values(), key=lambda p: p.valor, default=None)
        maior_estoque = max(self.produtos.values(), key=lambda p: p.quantidade, default=None)
        menor_estoque = min(self.produtos.values(), key=lambda p: p.quantidade, default=None)

        for produto in self.produtos.values():
            total_itens += produto.quantidade
            valor_total += produto.calcular_total()

        print("\nRelatório de Produtos:")
        print(f"Total de itens no estoque: {total_itens}")
        print(f"Valor total do estoque: R$ {valor_total:.2f}")
        print(f"Produto mais caro: {mais_caro.nome} (R$ {mais_caro.valor:.2f})")
        print(f"Produto mais barato: {mais_barato.nome} (R$ {mais_barato.valor:.2f})")
        print(f"Produto com maior quantidade: {maior_estoque.nome} ({maior_estoque.quantidade} unidades)")
        print(f"Produto com menor quantidade: {menor_estoque.nome} ({menor_estoque.quantidade} unidades)")

    def remover_produto(self, codigo):
        if codigo in self.produtos:
            removido = self.produtos.pop(codigo)
            print(f"Produto '{removido.nome}' removido com sucesso.")
        else:
            print("Produto não encontrado.")

#Codigo 2

from funcoes import autenticar
from funcoes import Estoque

if autenticar():
    estoque = Estoque()

    while True:
        print("\n--- Menu Estoque ---")
        print("1. Visualizar estoque atual")
        print("2. Adicionar novo item ao estoque")
        print("3. Atualizar quantidade de um item")
        print("4. Pesquisar produto (nome exato)")
        print("5. Relatório de produtos")
        print("6. Remover um item do estoque")
        print("7. Sair")

        escolha = input("Escolha uma opção (1-7): ")

        if escolha == "1":
            estoque.visualizar_estoque()
        elif escolha == "2":
            nome = input("Nome do produto: ")
            quantidade = int(input("Quantidade inicial: "))
            valor = float(input("Valor unitário: "))
            estoque.adicionar_produto(nome, quantidade, valor)
        elif escolha == "3":
            codigo = int(input("Digite o código do produto: "))
            nova_quantidade = int(input("Nova quantidade: "))
            estoque.atualizar_quantidade(codigo, nova_quantidade)
        elif escolha == "4":
            nome = input("Digite o nome do produto: ")
            estoque.pesquisar_produto(nome)
        elif escolha == "5":
            estoque.relatorio_produtos()
        elif escolha == "6":
            codigo = int(input("Digite o código do produto a ser removido: "))
            estoque.remover_produto(codigo)
        elif escolha == "7":
            print("Saindo do sistema...")
            break
        else:
            print("Opção inválida. Tente novamente.")
