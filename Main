from funcoes import autenticar
from funcoes import Estoque

if autenticar():
    estoque = Estoque()

    while True:
        print("\n--- Menu Estoque ---")
        print("1. Visualizar estoque atual")
        print("2. Adicionar novo item ao estoque")
        print("3. Atualizar quantidade de um item")
        print("4. Pesquisar produto (nome exato)")
        print("5. Relatório de produtos")
        print("6. Remover um item do estoque")
        print("7. Sair")

        escolha = input("Escolha uma opção (1-7): ")

        if escolha == "1":
            estoque.visualizar_estoque()
        elif escolha == "2":
            nome = input("Nome do produto: ")
            quantidade = int(input("Quantidade inicial: "))
            valor = float(input("Valor unitário: "))
            estoque.adicionar_produto(nome, quantidade, valor)
        elif escolha == "3":
            codigo = int(input("Digite o código do produto: "))
            nova_quantidade = int(input("Nova quantidade: "))
            estoque.atualizar_quantidade(codigo, nova_quantidade)
        elif escolha == "4":
            nome = input("Digite o nome do produto: ")
            estoque.pesquisar_produto(nome)
        elif escolha == "5":
            estoque.relatorio_produtos()
        elif escolha == "6":
            codigo = int(input("Digite o código do produto a ser removido: "))
            estoque.remover_produto(codigo)
        elif escolha == "7":
            print("Saindo do sistema...")
            break
        else:
            print("Opção inválida. Tente novamente.")
